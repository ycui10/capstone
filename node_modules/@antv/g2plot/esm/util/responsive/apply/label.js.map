{"version":3,"file":"label.js","sourceRoot":"","sources":["../../../../src/util/responsive/apply/label.ts"],"names":[],"mappings":";AAAA,OAAO,UAAU,MAAM,qBAAqB,CAAC;AAC7C,OAAO,UAAU,MAAM,eAAe,CAAC;AACvC,OAAO,eAAe,MAAM,QAAQ,CAAC;AACrC,OAAO,EAAE,IAAI,EAAE,MAAM,YAAY,CAAC;AAElC;IAAkD,wCAAe;IAAjE;;IA8BA,CAAC;IA7BW,0CAAW,GAArB;QACE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACzE,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAES,oCAAK,GAAf;QACE,IAAM,oBAAoB,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC1F,IAAI,WAAW,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,oBAAoB,EAAE,UAAC,CAAC;YAC3B,WAAW,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;QACH,IAAM,KAAK,GAAG,IAAI,UAAU,CAAC;YAC3B,MAAM,EAAE,WAAW;SACpB,CAAC,CAAC;QACG,IAAA,KAAyB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAA5D,WAAW,iBAAA,EAAE,KAAK,WAA0C,CAAC;QACrE,IAAI,UAAU,CAAC;YACb,KAAK,OAAA;YACL,WAAW,aAAA;YACX,KAAK,OAAA;YACL,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc;SACtC,CAAC,CAAC;IACL,CAAC;IAES,sCAAO,GAAjB;QACE,OAAO,IAAI,CAAC;IACd,CAAC;IACH,2BAAC;AAAD,CAAC,AA9BD,CAAkD,eAAe,GA8BhE","sourcesContent":["import ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\nimport { each } from '@antv/util';\n\nexport default class ApplyResponsiveLabel extends ApplyResponsive {\n  protected shouldApply() {\n    if (!this.responsiveTheme.label || !this.responsiveTheme.label[this.type]) {\n      return false;\n    }\n    return true;\n  }\n\n  protected apply() {\n    const labelShapesContainer = this.plot.view.geometries[0].labelsContainer.get('children');\n    let labelShapes = [];\n    each(labelShapesContainer, (c) => {\n      labelShapes = labelShapes.concat(c.findAllByName('label'));\n    });\n    const nodes = new ShapeNodes({\n      shapes: labelShapes,\n    });\n    const { constraints, rules } = this.responsiveTheme.label[this.type];\n    new Responsive({\n      nodes,\n      constraints,\n      rules,\n      plot: this.plot,\n      region: this.plot.view.coordinateBBox,\n    });\n  }\n\n  protected getType() {\n    return null;\n  }\n}\n"]}