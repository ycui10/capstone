{"version":3,"file":"tooltip-indicator.js","sourceRoot":"","sources":["../../src/components/tooltip-indicator.ts"],"names":[],"mappings":"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","sourcesContent":["import { clamp, deepMix } from '@antv/util';\nimport BaseComponent, { BaseComponentConfig } from './base';\nimport { GM, Wheel, GestureEvent, IElement, IGroup, IShape, GraphicEvent } from '../dependents';\nimport { TextStyle, GraphicStyle } from '../interface/config';\nimport { translate, move } from '../util/g-util';\nimport { getEllipsisText } from '../util/text';\nimport BBox from '../util/bbox';\n\nexport interface IndicatorItemItemValue {\n  /** 数值项名称，可选 */\n  name?: string;\n  /** 数值项数值 */\n  value: string | number;\n  /** 数值项名称和数值是否换行，默认否 */\n  wrapLine?: boolean;\n}\n\n/** 指标卡每一项数据 */\nexport interface IndicatorItem {\n  /** 标识符 */\n  id: string | number;\n  /** Marker 颜色 */\n  color: string;\n  /** 标题 */\n  title: string;\n  /** 数值项配置：指标卡一项可以拥有多项数值配置项 */\n  values: IndicatorItemItemValue[];\n}\n\n/** 指标卡组件配置项 */\nexport interface TooltipIndicatorRawConfig {\n  /** 位置信息 */\n  readonly x?: number;\n  readonly y?: number;\n  readonly width?: number;\n  readonly height?: number;\n  /** 数据项 */\n  readonly items?: IndicatorItem[];\n  /** 选中的数据项 ID */\n  readonly selectedItem?: string;\n  /** 指标卡标题 */\n  readonly title?: {\n    text?: string;\n    spacingY?: number;\n    style?: TextStyle;\n    activeStyle?: TextStyle;\n    inactiveStyle?: TextStyle;\n    selectedStyle?: TextStyle;\n  };\n  /** marker 配置 */\n  readonly line?: {\n    spacingX?: number;\n    width?: number;\n    style?: GraphicStyle;\n    activeStyle?: GraphicStyle;\n    inactiveStyle?: GraphicStyle;\n    selectedStyle?: GraphicStyle;\n  };\n  /** 指标卡每一项的标题配置 */\n  itemTitle?: {\n    spacingX?: number;\n    spacingY?: number;\n    style?: TextStyle;\n    activeStyle?: TextStyle;\n    inactiveStyle?: TextStyle;\n    selectedStyle?: TextStyle;\n  };\n  /** 数值项名称配置 */\n  itemName?: {\n    spacingX?: number;\n    spacingY?: number;\n    style?: TextStyle;\n    activeStyle?: TextStyle;\n    inactiveStyle?: TextStyle;\n    selectedStyle?: TextStyle;\n  };\n  /** 数值配置 */\n  itemValue?: {\n    spacingX?: number;\n    spacingY?: number;\n    style?: TextStyle;\n    activeStyle?: TextStyle;\n    inactiveStyle?: TextStyle;\n    selectedStyle?: TextStyle;\n  };\n  itemBackground?: {\n    style?: GraphicStyle;\n  };\n  /** 每一项间距 */\n  itemSpacing?: number;\n  /** 每一项最小宽度 */\n  minItemWidth?: number;\n  /** 每一项最大宽度 */\n  maxItemWidth?: number;\n  /** G2Plot 主题配置 */\n  theme?: any;\n}\n\ninterface TooltipIndicatorConfig extends TooltipIndicatorRawConfig, BaseComponentConfig {}\n\nexport enum ELEMENT_NAMES {\n  TOOLTIP_INDICATOR_INNER = 'tooltip_indicator-inner',\n  TOOLTIP_INDICATOR_TITLE = 'tooltip_indicator-title',\n  TOOLTIP_INDICATOR_BODY = 'tooltip_indicator-body',\n  TOOLTIP_INDICATOR_ITEM_GROUP = 'tooltip_indicator-item-group',\n  TOOLTIP_INDICATOR_ITEM_BACKGROUND = 'tooltip_indicator-item-background',\n  TOOLTIP_INDICATOR_ITEM_LINE = 'tooltip_indicator-item-line',\n  TOOLTIP_INDICATOR_ITEM_TITLE = 'tooltip_indicator-item-title',\n  TOOLTIP_INDICATOR_ITEM_BODY = 'tooltip_indicator-item-body',\n  TOOLTIP_INDICATOR_ITEM_VALUE_GROUP = 'tooltip_indicator-item-value-group',\n  TOOLTIP_INDICATOR_ITEM_NAME = 'tooltip_indicator-item-name',\n  TOOLTIP_INDICATOR_ITEM_VALUE = 'tooltip_indicator-item-value',\n}\n\nexport enum EVENTS {\n  ON_SELECT_ITEM = 'onSelectItem',\n}\n\nenum PADDING {\n  LARGE = 12,\n  NORMAL = 8,\n  SMALL = 4,\n}\n\n/** 挂在元素上的数据 */\ninterface IndicatorItemDelegateObject {\n  /** 原始数据 */\n  item: IndicatorItem;\n  /** item index */\n  index: number;\n  /** 如果为某一项数值项，则含有 valueIndex */\n  valueIndex?: number;\n}\n\nconst MAX_ITEM_TITLE_WIDTH = 160;\n\n/** 指标卡图例组件 */\nexport default class TooltipIndicator extends BaseComponent<TooltipIndicatorConfig> {\n  private curX = 0;\n  private curY = 0;\n  private offsetX = 0;\n  private scrollWidth = 0;\n  private bodyGroup: IGroup;\n  private gm: GM;\n  private wheel: Wheel;\n  private selectedItemId: string | number;\n\n  public destroy() {\n    this.offEvents();\n    super.destroy();\n  }\n\n  /** 选中某一项 */\n  public selectItem(id: string | number): void {\n    this.doSelectItem(id);\n  }\n\n  /** 重置选中状态 */\n  public resetSelect(): void {\n    this.doSelectItem(this.selectedItemId);\n  }\n\n  protected initConfig(config: TooltipIndicatorConfig): void {\n    const { theme = {} } = config;\n    const defaultCfg: TooltipIndicatorRawConfig = {\n      x: 0,\n      y: 0,\n      title: {\n        text: '',\n        spacingY: PADDING.NORMAL,\n        style: {},\n      },\n      line: {\n        spacingX: PADDING.SMALL,\n        width: 2,\n        style: {},\n      },\n      itemTitle: {\n        spacingX: 0,\n        spacingY: PADDING.SMALL,\n        style: {},\n      },\n      itemName: {\n        spacingX: PADDING.NORMAL,\n        spacingY: PADDING.SMALL,\n        style: {},\n      },\n      itemValue: {\n        style: {},\n      },\n      itemBackground: {\n        style: {\n          opacity: 0,\n          fill: '#000',\n        },\n      },\n      itemSpacing: PADDING.LARGE,\n    };\n    this.config = deepMix({}, theme?.components?.tooltipIndicator, defaultCfg, config);\n    this.selectedItemId = this.config.selectedItem;\n  }\n\n  protected renderInner(group: IGroup): void {\n    this.resetRender();\n    const { items, x, y } = this.config;\n    const itemGroups: IGroup[] = [];\n    const innerGroup = group.addGroup({\n      name: ELEMENT_NAMES.TOOLTIP_INDICATOR_INNER,\n    });\n    this.renderTitle(innerGroup);\n    this.bodyGroup = innerGroup.addGroup({\n      name: ELEMENT_NAMES.TOOLTIP_INDICATOR_BODY,\n    });\n    items?.forEach((item: IndicatorItem, index: number) => {\n      itemGroups.push(this.renderItem(this.bodyGroup, item, index));\n    });\n    this.layoutItems(innerGroup);\n    move(innerGroup, x, y);\n    this.applyClip(group);\n    this.bindEvents(innerGroup);\n  }\n\n  private renderTitle(group: IGroup): IShape | undefined {\n    const { title } = this.config;\n    if (title?.text) {\n      const shape = group.addShape({\n        type: 'text',\n        name: ELEMENT_NAMES.TOOLTIP_INDICATOR_TITLE,\n        attrs: {\n          text: title?.text,\n          textAlign: 'left',\n          textBaseline: 'top',\n          ...(title?.style || {}),\n        },\n      });\n      const bbox = shape.getBBox();\n      this.curY += bbox.height;\n      this.curY += title.spacingY || 0;\n      return shape;\n    }\n  }\n\n  private renderItem(group: IGroup, item: IndicatorItem, index: number): IGroup {\n    const { itemBackground } = this.config;\n    const itemGroup = group.addGroup({\n      name: ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_GROUP,\n      delegateObject: {\n        item,\n        index,\n      },\n    });\n    const oldX = this.curX;\n    const oldY = this.curY;\n    const background = itemGroup.addShape({\n      name: ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_BACKGROUND,\n      type: 'rect',\n      attrs: {\n        x: this.curX,\n        y: this.curY,\n        width: 1,\n        height: 1,\n        ...(itemBackground.style || {}),\n      },\n    });\n    const line = this.renderLine(itemGroup, item);\n    this.renderItemTitle(itemGroup, item);\n    this.renderItemValues(itemGroup, item);\n    const itemGroupBBox = itemGroup.getBBox();\n    // update line height\n    line.attr({\n      y2: line.attr('y1') + itemGroupBBox.height,\n    });\n\n    // spacing\n    this.curX = oldX + itemGroupBBox.width;\n    this.curX += this.config.itemSpacing || 0;\n\n    // update background\n    background.attr({\n      width: this.curX - oldX - background.attr('lineWidth') * 2,\n      height: this.curY - oldY - background.attr('lineWidth') * 2,\n    });\n\n    // reset Y\n    this.curY = oldY;\n\n    return itemGroup;\n  }\n\n  private renderLine(group: IGroup, item: IndicatorItem): IShape {\n    const { line } = this.config;\n    const width = line.width || 2;\n    const attrs = {\n      x1: this.curX + width / 2,\n      y1: this.curY,\n      x2: this.curX + width / 2,\n      y2: this.curY,\n      lineWidth: width,\n      stroke: item.color,\n      ...(line?.style || {}),\n    };\n    const shape = group.addShape({\n      name: ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_LINE,\n      type: 'line',\n      attrs,\n    });\n    const bbox = shape.getBBox();\n    this.curX += bbox.width;\n    this.curX += line.spacingX || 0;\n\n    return shape;\n  }\n\n  private renderItemTitle(group: IGroup, item: IndicatorItem): IShape {\n    const { itemTitle } = this.config;\n    const text: string = getEllipsisText(item.title, MAX_ITEM_TITLE_WIDTH, itemTitle.style || {});\n    const shape = group.addShape({\n      name: ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_TITLE,\n      type: 'text',\n      attrs: {\n        x: this.curX,\n        y: this.curY,\n        textAlign: 'left',\n        textBaseline: 'top',\n        text,\n        ...(itemTitle.style || {}),\n      },\n    });\n    const bbox = shape.getBBox();\n    this.curY += bbox.height;\n    this.curY += itemTitle.spacingY || 0;\n\n    return shape;\n  }\n\n  private renderItemValues(group: IGroup, item: IndicatorItem): IGroup {\n    const itemBodyGroup = group.addGroup({\n      name: ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_BODY,\n    });\n    const oldX = this.curX;\n    item.values?.forEach((value: IndicatorItemItemValue, valueIndex: number) => {\n      const valueGroup = itemBodyGroup.addGroup({\n        name: ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,\n        delegateObject: {\n          item,\n          valueIndex,\n        },\n      });\n      // reset x\n      this.curX = oldX;\n      this.renderItemValueName(valueGroup, value);\n      this.renderItemValueValue(valueGroup, value);\n    });\n\n    this.layoutItemValues(itemBodyGroup);\n\n    return itemBodyGroup;\n  }\n\n  private renderItemValueName(group: IGroup, value: IndicatorItemItemValue): IShape | undefined {\n    const { itemName } = this.config;\n    if (value.name) {\n      const shape = group.addShape({\n        name: ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_NAME,\n        type: 'text',\n        attrs: {\n          x: this.curX,\n          y: this.curY,\n          textAlign: 'left',\n          textBaseline: 'top',\n          text: value.name,\n          ...(itemName.style || {}),\n        },\n      });\n      const bbox = shape.getBBox();\n      if (value.wrapLine) {\n        this.curY += bbox.height;\n        this.curY += itemName.spacingY || 0;\n      } else {\n        this.curX += bbox.width;\n        this.curX += itemName.spacingX || 0;\n      }\n\n      return shape;\n    }\n  }\n\n  private renderItemValueValue(group: IGroup, value: IndicatorItemItemValue): IShape {\n    const { itemName, itemValue } = this.config;\n    const shape = group.addShape({\n      name: ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_VALUE,\n      type: 'text',\n      attrs: {\n        x: this.curX,\n        y: this.curY,\n        textAlign: 'left',\n        textBaseline: 'top',\n        text: value.value,\n        ...(itemValue.style || {}),\n      },\n    });\n    const bbox = shape.getBBox();\n    this.curY += bbox.height;\n    this.curY += itemName.spacingY || 0;\n\n    return shape;\n  }\n\n  private layoutItems(group: IGroup): void {\n    const bodyGroup = group.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_BODY)[0];\n    const itemGroups = group.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_GROUP);\n    if (!bodyGroup || itemGroups.length === 0) {\n      return;\n    }\n    const bodyGroupBBox = bodyGroup.getBBox();\n    this.scrollWidth = bodyGroupBBox.width;\n  }\n\n  private layoutItemValues(group: IGroup): void {\n    const valueGroups = group.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP);\n    const valueGroupBBoxes = valueGroups.map((item) => BBox.fromBBoxObject(item.getBBox()));\n    const valueShapes = group.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_VALUE);\n    const valueShapeBBoxes = valueShapes.map((shape) => BBox.fromBBoxObject(shape.getBBox()));\n    const maxX = Math.max(...valueShapeBBoxes.map((bbox) => bbox.maxX));\n\n    valueGroups.forEach((valueGroup: IGroup, index: number) => {\n      const bbox = valueGroupBBoxes[index];\n      const nameShape = valueGroup.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_NAME)[0];\n      const valueShape = valueGroup.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_VALUE)[0];\n      if (nameShape && valueShape) {\n        const nameShapeBBox = BBox.fromBBoxObject(nameShape.getBBox());\n        const valueShapeBBox = BBox.fromBBoxObject(valueShape.getBBox());\n        // horizontal align: name & value\n        if (nameShapeBBox.height < bbox.height) {\n          nameShape.attr('y', nameShape.attr('y') + (bbox.height - nameShapeBBox.height) / 2);\n        }\n        if (valueShapeBBox.height < bbox.height) {\n          valueShape.attr('y', valueShape.attr('y') + (bbox.height - valueShapeBBox.height) / 2);\n        }\n        // vertical align values\n        if (valueShapeBBox.maxX < maxX) {\n          valueShape.attr('x', valueShape.attr('x') + maxX - valueShapeBBox.maxX);\n        }\n      }\n    });\n  }\n\n  private applyClip(group: IGroup) {\n    const { x, y, width, height } = this.config;\n    const bbox = group.getBBox();\n\n    if (width || height) {\n      group.setClip({\n        type: 'rect',\n        attrs: {\n          x,\n          y,\n          width: width || bbox.width,\n          height: height || bbox.height,\n        },\n      });\n    }\n  }\n\n  private doSelectItem(id: string | number) {\n    const group = this.getGroup();\n    const itemGroups = group.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_GROUP);\n    if (id !== this.selectedItemId) {\n      itemGroups.forEach((itemGroup: IGroup) => {\n        const curItemData = itemGroup.get('delegateObject') as IndicatorItemDelegateObject;\n        if (curItemData) {\n          this.applyItemStyle(itemGroup, curItemData.item.id === id ? 'selected' : 'inactive');\n        }\n      });\n      this.selectedItemId = id;\n    } else {\n      // 取消选中\n      itemGroups.forEach((itemGroup: IGroup) => {\n        this.applyItemStyle(itemGroup);\n      });\n      this.selectedItemId = undefined;\n    }\n    this.emit(EVENTS.ON_SELECT_ITEM, this.selectedItemId);\n  }\n\n  private applyItemStyle(itemGroup: IGroup, state?: 'selected' | 'active' | 'inactive') {\n    const { line, itemTitle, itemName, itemValue } = this.config;\n    const lineShape = itemGroup.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_LINE)[0];\n    const titleShape = itemGroup.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_TITLE)[0];\n    const itemNameShapes = itemGroup.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_NAME);\n    const itemValueShapes = itemGroup.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_VALUE);\n    const styleName = state && `${state}Style`;\n\n    if (lineShape) {\n      lineShape.attr(line.style);\n      lineShape.attr(line[styleName] || {});\n    }\n    if (titleShape) {\n      titleShape.attr(itemTitle.style);\n      titleShape.attr(itemTitle[styleName] || {});\n    }\n    itemNameShapes.forEach((itemNameShape) => {\n      itemNameShape.attr(itemName.style);\n      itemNameShape.attr(itemName[styleName] || {});\n    });\n    itemValueShapes.forEach((itemValueShape) => {\n      itemValueShape.attr(itemValue.style);\n      itemValueShape.attr(itemValue[styleName] || {});\n    });\n  }\n\n  private bindEvents(group: IGroup) {\n    this.offEvents();\n    const bodyGroup = group.findAllByName(ELEMENT_NAMES.TOOLTIP_INDICATOR_BODY)[0];\n    bodyGroup.on('mousemove', this.onBodyGroupMousemove);\n    this.addDisposable(() => {\n      bodyGroup.off('mousemove', this.onBodyGroupMousemove);\n    });\n    this.gm = new GM(bodyGroup);\n    this.wheel = new Wheel(bodyGroup);\n    this.wheel.on('wheel', this.onWheel);\n  }\n\n  private offEvents() {\n    if (this.gm) {\n      this.gm.destroy();\n    }\n    if (this.wheel) {\n      this.wheel.destroy();\n    }\n  }\n\n  private onBodyGroupMousemove = (evt: GraphicEvent) => {\n    const itemGroup = findTargetAncestor(\n      evt.target as IElement,\n      (target: IElement) => target.get('name') === ELEMENT_NAMES.TOOLTIP_INDICATOR_ITEM_GROUP\n    );\n    if (itemGroup) {\n      const itemData = itemGroup.get('delegateObject') as IndicatorItemDelegateObject;\n      this.doSelectItem(itemData.item.id);\n    }\n  };\n\n  private onWheel = (evt: GestureEvent) => {\n    const { width = 0 } = this.config;\n    const { deltaX } = evt;\n    const offsetMin =\n      Math.min(this.scrollWidth - width, 0) - (this.scrollWidth / 2 + Math.max(0, (this.scrollWidth - width) / 2));\n    const offsetMax =\n      Math.max(this.scrollWidth - width, 0) + this.scrollWidth / 2 + Math.max(0, (this.scrollWidth - width) / 2);\n    const newOffsetX = clamp(this.offsetX + deltaX, offsetMin, offsetMax);\n\n    if (newOffsetX !== this.offsetX) {\n      translate(this.bodyGroup, this.offsetX - newOffsetX, 0);\n      this.offsetX = newOffsetX;\n    }\n  };\n\n  private resetRender() {\n    this.curX = 0;\n    this.curY = 0;\n    this.offsetX = 0;\n  }\n}\n\nfunction findTargetAncestor(element: IElement, predicate: (target: IElement) => boolean): IElement | undefined {\n  let cur = element;\n  while (cur) {\n    if (predicate(cur)) {\n      return cur;\n    }\n    cur = cur.getParent();\n  }\n}\n"]}