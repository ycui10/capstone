{"version":3,"file":"theme.js","sourceRoot":"","sources":["../../src/theme/theme.ts"],"names":[],"mappings":";;;AAAA,mCAA8D;AAG9D;;GAEG;AACH,IAAM,cAAc,GAA4B,EAAE,CAAC;AAEnD;;;GAGG;AACH,SAAgB,qBAAqB,CAAC,IAAY,CAAC,iBAAiB,EAAE,KAA0B;IAC9F,IAAI,aAAa,GAAW;QAC1B,SAAS,EAAE,WAAW;QACtB,WAAW,EAAE,eAAe;QAC5B,UAAU,EAAE,cAAc;KAC3B,CAAC;IACF,IAAI,OAAO,GAAG,EAAE,CAAC;IACjB,IAAI,IAAI,KAAK,MAAM,EAAE;QACnB,aAAa,GAAG;YACd,SAAS,EAAE,WAAW;YACtB,SAAS,EAAE,WAAW;YACtB,UAAU,EAAE,cAAc;SAC3B,CAAC;KACH;IACD,IAAM,aAAa,GAAG,EAAE,CAAC;IACzB,WAAI,CAAC,KAAK,EAAE,UAAC,KAAK,EAAE,QAAQ;;QAC1B,IAAI,UAAG,CAAC,aAAa,EAAE,QAAQ,CAAC,EAAE;YAChC,IAAM,WAAS,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC1C,WAAI,CAAC,KAAK,EAAE,UAAC,CAAC,EAAE,CAAC;gBACf,UAAG,CAAC,aAAa,EAAK,WAAS,SAAI,CAAC,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,WAAQ,EAAE,CAAC,CAAC,CAAC;YACjH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,iCAAiC;YACjC,OAAO,GAAG,cAAO,CAAC,EAAE,EAAE,OAAO,YAAI,GAAC,QAAQ,IAAG,KAAK,MAAG,CAAC;SACvD;IACH,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,cAAO,CAAC,aAAa,CAAC,EAAE;QAC3B,OAAO,GAAG,cAAO,CAAC,EAAE,EAAE,OAAO,EAAE,EAAE,UAAU,EAAE,aAAa,EAAE,CAAC,CAAC;KAC/D;IACD,OAAO,OAAO,CAAC;AACjB,CAAC;AA9BD,sDA8BC;AAED;;;;GAIG;AACH,SAAgB,aAAa,CAAC,IAAY,EAAE,KAA0B;IACpE,cAAc,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,qBAAqB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AAC1E,CAAC;AAFD,sCAEC;AAED;;;GAGG;AACH,SAAgB,QAAQ,CAAC,IAAY;IACnC,OAAO,cAAc,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;AAClD,CAAC;AAFD,4BAEC","sourcesContent":["import { each, set, has, isEmpty, deepMix } from '@antv/util';\nimport { G2PlotTheme, G2Theme, Style } from './interface';\n\n/**\n * 所有的 plot theme object，每个图类型只会存在一个 theme\n */\nconst PLOT_THEME_MAP: Record<string, G2Theme> = {};\n\n/**\n * 将 主题 转换为 G2 主题配置\n * @param type plotType\n */\nexport function convertThemeToG2Theme(type: string /** plot style */, theme: G2PlotTheme | Style): G2Theme {\n  let styleMapShape: object = {\n    lineStyle: 'line.line',\n    columnStyle: 'interval.rect',\n    pointStyle: 'point.circle', // point 可能是其他shape，如square等\n  };\n  let g2Theme = {};\n  if (type === 'area') {\n    styleMapShape = {\n      areaStyle: 'area.area',\n      lineStyle: 'area.line', // todo area-smooth怎么配置\n      pointStyle: 'point.circle',\n    };\n  }\n  const geometryTheme = {};\n  each(theme, (style, styleKey) => {\n    if (has(styleMapShape, styleKey)) {\n      const shapePath = styleMapShape[styleKey];\n      each(style, (v, k) => {\n        set(geometryTheme, `${shapePath}.${[k === 'normal' ? 'default' : k === 'disable' ? 'inactive' : k]}.style`, v);\n      });\n    } else {\n      /** styleMap 找不到，直接放入 G2 theme */\n      g2Theme = deepMix({}, g2Theme, { [styleKey]: style });\n    }\n  });\n  if (!isEmpty(geometryTheme)) {\n    g2Theme = deepMix({}, g2Theme, { geometries: geometryTheme });\n  }\n  return g2Theme;\n}\n\n/**\n * 注册新的图表主题\n * @param type\n * @param theme\n */\nexport function registerTheme(type: string, theme: G2PlotTheme | Style) {\n  PLOT_THEME_MAP[type.toLowerCase()] = convertThemeToG2Theme(type, theme);\n}\n\n/**\n * 根据类型获取主题\n * @param type plotType, such as line, column, bar, pie, bullet, radar and so on\n */\nexport function getTheme(type: string): G2Theme {\n  return PLOT_THEME_MAP[type.toLowerCase()] || {};\n}\n"]}